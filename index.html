<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI Tutor</title>
    <style>
        body { font-family: Arial; background: #f0f0f0; padding: 20px; }
        #chatBox { width: 100%; height: 400px; overflow-y: auto; background: white; padding: 15px; border-radius: 10px; border: 1px solid #ccc; }
        .msg-user { text-align: right; margin: 10px 0; color: blue; font-weight: bold; }
        .msg-bot { text-align: left; margin: 10px 0; color: green; font-weight: bold; }
        #inputBox { margin-top: 20px; display: flex; gap: 10px; }
        input { flex: 1; padding: 10px; font-size: 16px; }
        button { padding: 10px 20px; font-size: 16px; cursor: pointer; }
    </style>
</head>
<body>

<h2>üî• AI Tutor</h2>
<div id="chatBox"></div>

<div id="inputBox">
    <input type="text" id="userInput" placeholder="Type your question...">
    <button onclick="sendMessage()">Send</button>
</div>

<script>
    function addMessage(text, type) {
        const box = document.getElementById("chatBox");
        const div = document.createElement("div");
        div.className = type === "user" ? "msg-user" : "msg-bot";
        div.textContent = text;
        box.appendChild(div);
        box.scrollTop = box.scrollHeight;
    }

    async function sendMessage() {
        const input = document.getElementById("userInput");
        const text = input.value.trim();
        if (!text) return;

        addMessage(text, "user");
        input.value = "";

        try {
            const response = await fetch("/ask", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ prompt: text })
            });

            const data = await response.json();
            addMessage(data.answer, "bot");

        } catch (err) {
            addMessage("‚ùå Error connecting to server", "bot");
        }
    }
</script>

</body>
</html>
